<head>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@100&family=Righteous&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>

</head>

<ion-header no-border slot="fixed">
 
</ion-header>
<ion-toolbar class="productHeader" transparent slot="fixed">
  <ul>
    <li style="float:right;"><a routerLink="" *ngIf="loginLabel" (click)="loginClick()"  >{{loginLabel}}</a></li>
   <img src="../assets/images/full logo wit.png" alt="Scubamate" id="navLogo">
    <li style="float:left;margin-left:20px;"><a routerLink="/home" >Home</a></li>  
      <li style="float:left;"><a routerLink="/explore">Explore</a></li>  
      <li style="float:left;"><a routerLink="/weather">Weather</a></li> 
      <li style="float:left;"><a routerLink="/my-dives">My Dives</a></li>
      <li style="float:left;"><a routerLink="/profile">My Account</a></li>
      <ion-progress-bar type="indeterminate" *ngIf="showLoading" ></ion-progress-bar>   
  </ul>
  
</ion-toolbar>

<ion-content fullscreen class="background" no-scroll padding >
  <div *ngIf="noInternetConnection" style="text-align: center;">    
    <h1>THERE IS NO INTERNET CONNECTION</h1>    
    <img width="111px" src="assets/images/no.wifi_.png" alt="Wifi Connecred" />    
  </div>  
  <!-- 
  <div *ngIf="!noInternetConnection" style="text-align: center;">     
    <h1>INTERNET CONNECTION IS THERE</h1>    
    <img width="111px" src="assets/images/wifi.png" alt="Wifi Disconnected" />    
  </div> -->
  <div id="newDiveDiv">
    <ion-label id="divHead">Log a new Dive</ion-label>

    <form [formGroup]="diveForm">
    <div id="locationInfo">
      <ion-label class="subLabel"> Dive Location </ion-label>
      <ion-grid>
        <ion-row>
          <ion-col >
            <div class="searchableSelect" color="dark" >
              <ion-label class="searchableSelectLabel">Dive Site</ion-label><br>
                <input list="diveSites" formControlName="DiveSite" class="searchableSelectInput" [(ngModel)]="diveObj.DiveSite"  placeholder="Insert A Dive Site" #siteOf>
                <datalist id="diveSites" >
                    <option *ngFor='let s of DiveSiteLst' value={{s}}></option>
                </datalist>
            </div>
            </ion-col>
            <ion-col >
            <div class="searchableSelect" color="dark">
              <ion-label class="searchableSelectLabel">Dive Type</ion-label>
              <input list="diveTypes" formControlName="DiveTypeLink" class="searchableSelectInput" [(ngModel)]="diveObj.DiveTypeLink"  placeholder="Insert A Dive Type" #diveType>
              <datalist id="diveTypes" >
                  <option *ngFor='let t of DiveTypeLst' value={{t}}></option>
              </datalist>
            </div>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div>
    <div id="dateTimeDive">
      <ion-label class="subLabel"> Date And Time </ion-label>
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-item color="dark">
              <ion-label  position="stacked">Date of Dive
                <b *ngIf="!diveForm.controls.DiveDate.valid  && (diveForm.controls.DiveDate.dirty )" class="FormErrorControlMessage">* Please enter a valid name  </b>
              </ion-label>
              <ion-input formControlName="DiveDate" type="date" value={{currentDate}} [(ngModel)]="diveObj.DiveDate"  [class.invalid]="!diveForm.controls.DiveDate.valid && (diveForm.controls.DiveDate.dirty )"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="stacked">Time In*</ion-label>
              <ion-input type="time" #timeIn formControlName="TimeIn"  [(ngModel)]="diveObj.TimeIn"  [class.invalid]="!diveForm.controls.TimeIn.valid && (diveForm.controls.TimeIn.dirty )"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="stacked">Time Out*</ion-label>
              <ion-input type="time" #timeOut formControlName="TimeOut"  [(ngModel)]="diveObj.TimeOut"  [class.invalid]="!diveForm.controls.TimeOut.valid && (diveForm.controls.TimeOut.dirty )"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div> <!-- end of dateTimeDive -->
    <div id="conditions">
      <ion-label class="subLabel">Temperature (Â°C)</ion-label>
      <ion-grid>
        <ion-row>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="floating">Air Temperature</ion-label>
              <ion-input type="number" #aTemp value={{MaxTempAPI}}  formControlName="AirTemp"  [(ngModel)]="diveObj.AirTemp"  [class.invalid]="!diveForm.controls.AirTemp.valid && (diveForm.controls.AirTemp.dirty )"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="floating">Surface Temperature</ion-label>
              <ion-input type="number" #sTemp value={{MinTempAPI}} formControlName="SurfaceTemp"  [(ngModel)]="diveObj.SurfaceTemp"  [class.invalid]="!diveForm.controls.SurfaceTemp.valid && (diveForm.controls.SurfaceTemp.dirty )"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
        <ion-col>
          <ion-item color="dark">
            <ion-label position="floating">Bottom Temperature</ion-label>
            <ion-input type="number" #bTemp value={{MinTempAPI}} formControlName="BottomTemp"  [(ngModel)]="diveObj.BottomTemp"  [class.invalid]="!diveForm.controls.BottomTemp.valid && (diveForm.controls.BottomTemp.dirty )"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col>

        </ion-col>
      </ion-row>
      </ion-grid>
    </div> <!-- end of conditions-->
    <div id="diveDetails">
      <ion-label class="subLabel"> Dive Details </ion-label>
      <ion-grid>
        <ion-row>
          <ion-col>
              <div class="searchableSelect">
                <ion-label class="searchableSelectLabel">Buddy</ion-label>
                <input list="buddylst" formControlName="Buddy" class="searchableSelectInput" [(ngModel)]="diveObj.Buddy" placeholder="Insert Buddy" (keypress)="buddyListFinder($event.target.value)" #bud>
                <datalist id="buddylst" >
                    <option *ngFor='let b of BuddyLst' value={{b}}></option>
                </datalist>
              </div>
            </ion-col>
            <ion-col>
              <ion-item color="dark">
                <ion-label position="stacked">Do you want this dive to be logged publicly?</ion-label>
                <ion-checkbox color="dark"  #public formControlName="DivePublicStatus"  [(ngModel)]="diveObj.DivePublicStatus"  [class.invalid]="!diveForm.controls.DivePublicStatus.valid && (diveForm.controls.DivePublicStatus.dirty )" ></ion-checkbox>
              </ion-item>
            </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="floating">Visibility (m)</ion-label>
              <ion-input type="number" #vis formControlName="Visibility"  [(ngModel)]="diveObj.Visibility"  [class.invalid]="!diveForm.controls.Visibility.valid && (diveForm.controls.Visibility.dirty )"></ion-input>
            </ion-item>
          </ion-col>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="floating">Depth (m)</ion-label>
              <ion-input type="number" #dep formControlName="Depth"  [(ngModel)]="diveObj.Depth"  [class.invalid]="!diveForm.controls.Depth.valid && (diveForm.controls.Depth.dirty )"></ion-input>
            </ion-item>
          </ion-col>
        </ion-row>
        <ion-row>
          <ion-col>
            <ion-item color="dark">
              <ion-label position="floating">Dive Description</ion-label>
              <ion-textarea #desc formControlName="Description"  [(ngModel)]="diveObj.Description"  [class.invalid]="!diveForm.controls.Description.valid && (diveForm.controls.Description.dirty )"></ion-textarea>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </div> <!-- end of diveDetails-->
   
    <input type="submit" value="Log Dive" (click)="DiveLogSubmit()">

    </form>
  </div>  <!--End of newDiveDiv -->
</ion-content>