
<head>
  <link href="https://fonts.googleapis.com/css2?family=Barlow+Semi+Condensed:wght@100&family=Righteous&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel='stylesheet' href='https://use.fontawesome.com/releases/v5.7.0/css/all.css' integrity='sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ' crossorigin='anonymous'>

</head>
<ion-header no-border slot="fixed" style="margin-bottom: 20px;">
  <ion-toolbar color="dark" class="productHeader" >
    <ion-buttons slot="primary">
      <ion-button routerLink="" *ngIf="loginLabel" (click)="loginClick()" class="hidden-sm-down" >
        {{loginLabel}}
      </ion-button>
      <ion-menu-button autoHide="false" class="hidden-sm-up"></ion-menu-button>
    </ion-buttons>
    <ion-title > 
     <ion-buttons >
      <img src="../assets/images/full logo wit.png" alt="Scubamate" id="navLogo" style="height:80%;width:12%;padding-bottom:3px;padding-top:3px;margin-right:10px;"/>
      
        <ion-button routerLink="/home" class="hidden-sm-down">
          <ion-icon name="home" ></ion-icon><label style="padding-top:7px;">&nbsp; Home</label> 
        </ion-button>
        <ion-button routerLink="/explore" class="hidden-sm-down" *ngIf="loginLabel=='Log Out'">
          <ion-icon name="color-wand-outline"></ion-icon>&nbsp; Explore
        </ion-button>
        <ion-button routerLink="/planning" class="hidden-sm-down" *ngIf="loginLabel=='Log Out'">
          <ion-icon name="newspaper"></ion-icon>&nbsp; Plan
        </ion-button>
        <ion-button routerLink="/my-dives" class="hidden-sm-down" *ngIf="loginLabel=='Log Out'">
          <ion-icon name="water"></ion-icon>&nbsp; My Dives
        </ion-button>
        <ion-button routerLink="/profile" class="hidden-sm-down" *ngIf="loginLabel=='Log Out'">
          <ion-icon name="person" ></ion-icon>&nbsp; Profile
        </ion-button>
        <ion-button *ngIf="accountType=='10' || accountType=='11'" routerLink="/admin-page" class="hidden-sm-down">
          <ion-icon name="podium"></ion-icon>&nbsp; Admin 
        </ion-button>
      </ion-buttons>
      
    </ion-title> 
     <ion-progress-bar type="indeterminate" *ngIf="showLoading"></ion-progress-bar> 
  </ion-toolbar>
</ion-header>

<ion-content fullscreen class="background" no-scroll padding >

  <div id="SuggestedCoursesDiv" >
    <div class="divHeadSection">
       <ion-grid>
         <ion-row>
           <ion-col size="12" size-sm="12" size-md="12" size-lg="12">
             <ion-label class="divHead">View Predicted Visibility At Dive Site </ion-label>
           </ion-col>
         </ion-row>
       </ion-grid>
    </div>
    <div class="divBodySection" style="margin:0;">
     <ion-grid>
       <ion-row>
          <ion-label color='primary' > Please provide a Dive Site and a date within 4 days from now </ion-label>
       </ion-row>
       <ion-row>
         <ion-col size="12" size-sm="12" size-md="5" size-lg="5" style="margin:0;padding:0;">
          <ion-item color="dark">
            <ion-label>Dive Site</ion-label>
            <ion-select value="Hotspot" okText="Okay" cancelText="Dismiss" (ionChange)="showPrediction=false" [(ngModel)]="predictObj.DiveSite">
              <ion-select-option *ngFor='let s of DiveSiteLst' value="{{s}}">{{s}}</ion-select-option>
            </ion-select>
          </ion-item>
         </ion-col>
         <ion-col size="12" size-sm="12" size-md="5" size-lg="5" style="margin:0;padding:0;">
          <ion-item color="dark">
            <ion-input type='date' (ionChange)="showPrediction=false" [(ngModel)]="predictObj.Date" value={{currentDate}} placeholder={{currentDate}}>
              Date &nbsp;&nbsp;
            </ion-input>
          </ion-item>
         </ion-col>
         <ion-col size="12" size-sm="12" size-md="2" size-lg="2" style="margin:0;padding:0;">
            <ion-button (click)="getPrediction()" style="font-size: 14px;margin:0;--border-radius:0 !important;width:100%;">
              Predict <br>  Visibility
            </ion-button>
         </ion-col>
       </ion-row>
       <ion-row *ngIf="showPrediction" class="showPredictionRow">
          <ion-col size="12" size-sm="12" size-md="4" size-lg='4'>
              <label class="predictedInfo"> {{predictObj.DiveSite}} </label>
          </ion-col>
          <ion-col size="12" size-sm="12" size-md="4" size-lg='4'>
            <label class="predictedInfo"> {{predictObj.Date}} </label>
          </ion-col>
          <ion-col size="12" size-sm="12" size-md="4" size-lg='4'>
            <label class="predictedInfo" *ngIf='predictedVisibility == "Poor"' style="color: #eb445a;"> {{predictedVisibility}} </label>
            <label class="predictedInfo" *ngIf='predictedVisibility == "Average"' style="color: #E76F51;"> {{predictedVisibility}} </label>
            <label class="predictedInfo" *ngIf='predictedVisibility == "Good"' style="color: #36abe0;"> {{predictedVisibility}} </label>
            <label class="predictedInfo" *ngIf='predictedVisibility == "Excellent"' style="color: #2dd36f;"> {{predictedVisibility}} </label>
          </ion-col>
       </ion-row>
     </ion-grid>
    </div>
   </div>

  <div id="SuggestedCoursesDiv" *ngIf="showCourses">
   <div class="divHeadSection">
      <ion-grid>
        <ion-row>
          <ion-col size="12" size-sm="12" size-md="7" size-lg="7">
            <ion-label class="divHead">Suggested Courses</ion-label>
          </ion-col>
          <ion-col size="12" size-sm="12" size-md="5" size-lg="5">
            <ion-button (click)="presentSurveyQ1()" style="--border-radius:5px;width:90%;font-size:x-small;padding: 5px;">
              <ion-icon name="document-outline"></ion-icon>
              &nbsp; Complete Survey for more
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
   </div>
   <div class="divBodySection">
    <ion-grid>
      <ion-row>
        <ion-col size="12" size-sm="6" size-md="4" size-lg="4">
          <ion-card color = 'light'>
            <img class="cardFeedIMG" src="../../assets/images/diving-2.png" style="height:40%;width:100%;" />
              <ion-card-content>
              <ion-card-title color = 'dark'>
                   {{suggestedCourseThreeList[0].Name}}
                </ion-card-title>
              <p>
                <ion-grid>
                  <ion-row>
                    <ion-col color = 'dark'>
                      <label class="courseTypeLabel">{{suggestedCourseThreeList[0].CourseType}}</label>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </p>
            </ion-card-content>
          </ion-card>
        </ion-col>
        <ion-col size="12" size-sm="6" size-md="4" size-lg="4">
          <ion-card color = 'light' >
               <ion-card-content>
              <ion-card-title color = 'dark'>
                {{suggestedCourseThreeList[1].Name}}
                </ion-card-title>
              <p>
                <ion-grid>
                  <ion-row>
                    <ion-col color = 'dark'>
                      <label class="courseTypeLabel">{{suggestedCourseThreeList[1].CourseType}}</label>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </p>
            </ion-card-content>
            <img class="cardFeedIMG" src="../../assets/images/diving-1.png" style="height:40%;width:100%;" />
          </ion-card>
        </ion-col>
        <ion-col size="12" size-sm="6" size-md="4" size-lg="4">
          <ion-card color = 'light' >
            <img class="cardFeedIMG" src="../../assets/images/diving-2.png" style="height:40%;width:100%;" />
              <ion-card-content>
              <ion-card-title color = 'dark'>
                {{suggestedCourseThreeList[2].Name}}
                </ion-card-title>
              <p>
                <ion-grid>
                  <ion-row>
                    <ion-col color = 'dark'>
                      <label class="courseTypeLabel">{{suggestedCourseThreeList[2].CourseType}}</label>
                    </ion-col>
                  </ion-row>
                </ion-grid>
              </p>
            </ion-card-content>
          </ion-card>
        </ion-col>
      </ion-row>
    </ion-grid>
   </div>
  </div>

  






  <div id="SuggestedCoursesDiv" *ngIf="showSitesNearYou" style="padding-bottom: 0px;">
    <div class="divHeadSection">
       <ion-grid>
         <ion-row>
           <ion-col size="12" size-sm="12" size-md="9" size-lg="9">
             <ion-label class="divHead">Suggested Dive Sites Near You</ion-label>
           </ion-col>
           <ion-col size="12" size-sm="12" size-md="3" size-lg="3">
            <ion-button (click)="toggleViewMoreSitesNearYou()" style="--border-radius:5px;width:90%;font-size:x-small;padding: 5px;" *ngIf="viewMoreNearYou">
              <ion-icon name="caret-up" color="light"></ion-icon>
              &nbsp; View Less
            </ion-button>
            <ion-button (click)="toggleViewMoreSitesNearYou()" style="--border-radius:5px;width:90%;font-size:x-small;padding: 5px;" *ngIf="!viewMoreNearYou">
              <ion-icon name="caret-down" color="light"></ion-icon>
              &nbsp; View More
            </ion-button>
          </ion-col>
         </ion-row>
       </ion-grid>
    </div>
    <div class="divBodySection" style="padding: 0;margin-left: 0; margin-right: 0;" *ngIf="viewMoreNearYou">
     <ion-grid style="padding: 0;">
       <ion-row *ngFor='let snr of SitesNearYouLst' class="SitesNearRow">
            <ion-col size="12" size-sm="12" size-md="3" size-lg="3" class="SitesNearLeftCol">
              <label class="SitesNearName"> {{snr.Name}} </label>
          </ion-col>
         <ion-col size="12" size-sm="12" size-md="2" size-lg="2">
            <label class="SitesNearRating">Rating: &nbsp; {{snr.Rating}}  </label>
       </ion-col> 
       <ion-col size="12" size-sm="12" size-md="7" size-lg="7">
         <label class="SitesNearDesc"> {{snr.Description}}  </label>
     </ion-col> 
       </ion-row>
     </ion-grid>
    </div>
   </div>

   <div id="checkListDiv">
    <div class="divHeadSection">
      <ion-grid>
        <ion-row>
          <ion-col size="12" size-sm="12" size-md="6" size-lg="6">
            <ion-label class="divHead">Manage Your Checklist </ion-label>
          </ion-col>
          <ion-col size="12" size-sm="12" size-md="6" size-lg="6">
            <ion-button (click)="saveChecklist()">
              <ion-icon name="save-outline" ></ion-icon>
            </ion-button>
            <ion-button (click)="showAddInput()">
              <ion-icon name="add-outline"></ion-icon>
            </ion-button>
            <ion-button (click)="onChooseDive( diveType.value, $event)">
              <ion-icon name="search"></ion-icon>
            </ion-button>
            <ion-button (click)="toggleCheckList()">
              <ion-icon name="caret-down" *ngIf='!viewChecklist' color="dark"></ion-icon>
              <ion-icon name="caret-up" *ngIf='viewChecklist' color="dark"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
      </ion-grid>
      
    </div>
    <div class="divBodySection">
    
      <ion-grid id="CheckListsInfo" >
        <ion-row>
          <div class="searchableSelect">
            <ion-label class="searchableSelectLabel">Dive Type</ion-label>
            <input list="diveTypes" [(ngModel)]="SearchDiveCheckList" class="searchableSelectInput" (keypress)="divetypeListFinder()" placeholder="Search by a Dive Type" #diveType>
            <datalist id="diveTypes" >
                <option *ngFor='let t of DiveTypeLst' value={{t}}></option>
            </datalist>
          </div>
        </ion-row>
        <ion-row *ngIf="viewAddInput">
          <ion-col size="12" size-md="11" size-lg="11">
            
            <ion-item color="dark">
              <ion-label position="floating">Custom Item to Add</ion-label>
              <ion-input type="text" placeholder="Custom Item to Add to Checklist"  [(ngModel)]="itemToAdd" ></ion-input>
            </ion-item>
            
          </ion-col>
          <ion-col size="12" size-md="1" size-lg="1">
            <ion-button (click)="addItem()" color="success" style="--border-radius:3%;width:100%;height:75%;">
              <ion-icon name="checkmark"></ion-icon>
            </ion-button>
          </ion-col>
        </ion-row>
          <ion-row *ngIf='viewChecklist'><label class="checkListHead">Necessary - Equipment</label></ion-row>
          <ion-row *ngIf='viewChecklist' class="checkListTableRow">
            <ion-col *ngFor='let e of EquipmentList' size="12" size-md="6" size-lg="6">
              
              <ion-col size="6" > {{ e.Val }}</ion-col>
              <ion-col size="6" > <ion-checkbox color="dark" [(ngModel)]="e.Checked"></ion-checkbox> </ion-col>
            </ion-col>
          </ion-row>

          <ion-row *ngIf='viewChecklist'><label class="checkListHead">Optional - Equipment</label></ion-row>
          <ion-row *ngIf='viewChecklist' class="checkListTableRow">
            <ion-col *ngFor='let o of OptionalList' size="12" size-md="6" size-lg="6">
              
              <ion-col size="6"> {{ o.Val }}</ion-col>
              <ion-col size="6" > <ion-checkbox color="dark" [(ngModel)]="o.Checked"></ion-checkbox> </ion-col>
            </ion-col>
          </ion-row>

          <ion-row *ngIf='viewChecklist && viewPersonalAdded'><label class="checkListHead">Custom - Equipment</label></ion-row>
          <ion-row *ngIf='viewChecklist && viewPersonalAdded' class="checkListTableRow">
            <ion-col *ngFor='let p of PersonalList' size="12" size-md="6" size-lg="6">
              
              <ion-col size="6"> {{ p.Val }}</ion-col>
              <ion-col size="6" > <ion-checkbox color="dark" [(ngModel)]="p.Checked"></ion-checkbox> </ion-col>
            </ion-col>
          </ion-row>


      </ion-grid>

  </div>
  </div>
   

</ion-content>